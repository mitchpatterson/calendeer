(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/logo.1741cfe1.svg"},23:function(e,t,n){e.exports=n(54)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=(n(29),n(2)),l=n(3),u=n(5),s=n(4),d=n(6),h=n(18),m=n.n(h),f=(n(30),function(e){var t=e.initialized,n=e.onFlyoutChange,a=t?"Return to search":"Begin your search";return r.a.createElement("header",{className:"component_header".concat(t?" initialized":"")},r.a.createElement("h1",null,"Calendeer"),!t&&r.a.createElement("h6",null,"The sealiest way to stay organized by your ",r.a.createElement("span",{role:"img"},"\ud83d\udda4"),"of animals"),r.a.createElement(p,{onClick:n},a),!t&&r.a.createElement("div",{className:"credits"},r.a.createElement("h3",null,"Powered by"),r.a.createElement("a",{href:"https://unsplash.com/",target:"_blank",rel:"noopener noreferrer"},"Unsplash")),!t&&r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:m.a,alt:"deer logo"})))}),y=n(21),p=(n(31),function(e){var t=e.children,n=Object(y.a)(e,["children"]);return r.a.createElement("button",Object.assign({className:"component_button"},n),t)}),g=(n(32),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={searchQuery:"",collectionsQuery:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.onFlyoutChange,c=t.onSubmitQuery,o=this.state,i=o.searchQuery,l=o.collectionsQuery;return r.a.createElement("aside",{className:"component_flyout".concat(n?" active":"")},r.a.createElement("div",{className:"flyout_content"},r.a.createElement(p,{onClick:function(){return a(!1)}},"Close"),r.a.createElement("div",{className:"search_criteria"},r.a.createElement("h6",null,"Search for your favourite ",l?"whatever..":"animal"),r.a.createElement(b,{type:"search",value:i,placeholder:"Enter your keywords here...",onChange:function(t){return e.setState({searchQuery:t.target.value})}}),r.a.createElement("h6",null,"Search another category if you want"),r.a.createElement("h6",null,"(This is Optional: Animals is default)"),r.a.createElement(b,{type:"search",value:l,placeholder:"Enter your keywords here...",onChange:function(t){return e.setState({collectionsQuery:t.target.value})}})),r.a.createElement(p,{disabled:!i,onClick:function(){return c({searchQuery:i,collectionsQuery:l})}},"SUBMIT")))}}]),t}(a.Component)),v=n(19),b=(n(33),function(e){var t=Object(v.a)({},e);return r.a.createElement("input",Object.assign({className:"component_input"},t))}),E=n(7),w=(n(34),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).debounce=function(t,n){return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];clearTimeout(e.interval),e.interval=setTimeout(function(){e.interval=null,t.apply(void 0,r)},n)}},e.forceUpdateAndRecreate=function(){setTimeout(function(){e.img_node&&e.setState({height:e.img_node.offsetHeight,width:e.img_node.offsetWidth})},500)},e.generateMonthName=function(){var e=new Date;return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear())},e.generateCalendar=function(){for(var e=new Date,t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),c=new Date(t,n,1).getDay(),o=new Date(t,n,1).getDate(),i=new Date(t,n+1,0).getDate(),l=[],u=0;u<c;u++)l.push("");for(var s=o;s<=i;s++)l.push(s);return r.a.createElement("div",{className:"calendar_days"},["S","M","T","W","T","F","S"].map(function(e){return r.a.createElement("div",{className:"day week",key:"day_".concat(e)},e)}),l.map(function(e){return r.a.createElement("div",{key:"day_".concat(e),className:"day".concat(e===a?" today":"")},e)}))},e.determinePictureSize=function(){var e=window.innerWidth;return e>2e3?"full":e>1e3?"regular":"small"},e.state={height:0,width:0},e.interval=null,e.forceUpdateAndRecreate=e.forceUpdateAndRecreate.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.debounce(this.forceUpdateAndRecreate,500))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debounce(this.forceUpdateAndRecreate,500))}},{key:"componentDidMount",value:function(){this.forceUpdateAndRecreate()}},{key:"componentDidUpdate",value:function(e){var t=this.props;(!e.result&&t.result||e.result&&t.result&&e.result.id!==t.result.id)&&this.forceUpdateAndRecreate()}},{key:"render",value:function(){var e=this,t=this.props.result;return t?r.a.createElement("section",{className:"component_calendar"},r.a.createElement("div",{className:"img_wrapper",style:{transform:"translate(-".concat(this.state.width/2,"px, 0)")}},r.a.createElement("h1",{className:"calendar_month_year"},this.generateMonthName()),r.a.createElement("img",{ref:function(t){return e.img_node=t},src:t.urls[this.determinePictureSize()],alt:t.alt_description}),r.a.createElement("div",{className:"calendar_content",style:{height:this.state.height,width:this.state.width}},this.generateCalendar()))):r.a.createElement("section",{className:"component_calendar no_result"},r.a.createElement("h6",null,"Oops! We couldn't find a match for your search. Maybe try again?"))}}]),t}(a.Component)),_=n(22),O=n(20),S=n.n(O),j="https://api.unsplash.com",Q=function(e,t,n,a,r){S()({method:e,url:t,params:Object(_.a)({},n,{client_id:"4fcdcea7848dffa0b9e459501dd20f7f9bef5e3af825aad7087a2d2e9caa8159"})}).then(function(e){a(e)}).catch(function(e){r(e)})},k=function(e){var t=e.query,n=e.success,a=e.error,r={per_page:5,page:1,query:t||"animals"};Q("get","".concat(j,"/search/collections"),r,n,a)},N=function(e){var t=e.query,n=e.collections,a=e.page,r=e.success,c=e.error,o={collections:n,query:t,per_page:1,page:a};Q("get","".concat(j,"/search/photos"),o,r,c)},C=(n(52),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e)))._updateFlyout=function(e){n.setState({flyout:e})},n._submitQuery=function(e){var t=e.searchQuery,a=e.collectionsQuery;n.setState({loading:!0}),k({query:a,success:function(e){return n.onSuccessfulCollectionsSearch(e,t,a)},error:function(e){return console.error(e)}})},n.onSuccessfulCollectionsSearch=function(e,t,a){var r="";e.data.results.forEach(function(e,t){r+=0===t?e.id.toString():",".concat(e.id)}),N({query:t,collections:r,page:n.page,success:function(r){return n.onSuccessfulSearch(r,e.data.results,t,a)},error:function(e){return console.log(e)}})},n.onSuccessfulSearch=function(e,t,a,r){n.setState({initialized:!0,results:e.data.results[0],collections:t,flyout:!1,searchQuery:a,collectionsQuery:r})},n.updatePageAndSubmitQuery=function(e){var t=n.state,a=t.searchQuery,r=t.collectionsQuery;n.page=e?n.page+1:n.page-1,n._submitQuery({searchQuery:a,collectionsQuery:r})},n.state={searchQuery:"",collectionsQuery:"",collections:[],results:null,flyout:!1,initialized:!1,loading:!1},n.page=1,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container_content"},r.a.createElement(f,{initialized:this.state.initialized,onFlyoutChange:function(){return e._updateFlyout(!0)}}),r.a.createElement(g,{active:this.state.flyout,onFlyoutChange:function(t){return e._updateFlyout(t)},onSubmitQuery:function(t){e.page=1,e._submitQuery(t)}}),this.state.initialized&&r.a.createElement(w,{result:this.state.results}),this.state.initialized&&r.a.createElement("div",{className:"pagination"},this.page>1&&r.a.createElement(p,{onClick:function(){return e.updatePageAndSubmitQuery(!1)}},"Oops, I DID like that one"),r.a.createElement(p,{onClick:function(){return e.updatePageAndSubmitQuery(!0)}},"Not feeling it? Try another")))}}]),t}(a.Component)),A=(n(53),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={query:"",collections:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.b1850ac8.chunk.js.map